<!-- Newsletter Section -->
<section id="newsletter" style="background:#f8f8f8; padding:40px 20px; text-align:center;">
  <h2>üì© Subscribe to Our Newsletter</h2>
  <p>Get the latest property updates, promos, and housing tips straight to your inbox.</p>
  
  <form id="newsletterForm" name="newsletterForm" method="POST">
    <input 
      type="email" 
      name="email" 
      placeholder="Enter your email address" 
      required 
      style="width:300px; padding:12px; border:1px solid #ccc; border-radius:8px; margin-bottom:10px;"
    >
    <br>
    <button 
      type="submit" 
      style="padding:12px 20px; background:#007BFF; color:#fff; border:none; border-radius:8px; cursor:pointer;"
    >
      Subscribe
    </button>
  </form>

  <p id="message" style="color:green; font-weight:bold;"></p>
</section>


<script>
  const BREVO_API_KEY = "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 "; // Replace with your Brevo API Key
  const LIST_ID = https://app.brevo.com/contact/list/id/3; // Replace with your Brevo List ID

  document.getElementById("newsletterForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = e.target.email.value;

    try {
      const response = await fetch("https://api.brevo.com/v3/contacts", {
        method: "POST",
        headers: {
          "accept": "application/json",
          "content-type": "application/json",
          "api-key": BREVO_API_KEY
        },
        body: JSON.stringify({
          email: email,
          listIds: [LIST_ID],
          updateEnabled: true // updates contact if already exists
        })
      });

      const result = await response.json();
      if (response.ok) {
        document.getElementById("message").innerText = "‚úÖ You‚Äôre subscribed to our newsletter!";
        e.target.reset();
      } else {
        document.getElementById("message").innerText = "‚ö†Ô∏è Error: " + (result.message || "Please try again.");
      }
    } catch (error) {
      document.getElementById("message").innerText = "‚ùå Network error.";
      console.error("Error:", error);
    }
  });
</script>

